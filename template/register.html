<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Register â€¢ ChatFlow</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#0f172a;
  --card:#111827;
  --input:#1f2937;
  --text:#e5e7eb;
  --muted:#9ca3af;
  --primary:#6366f1;
  --danger:#ef4444;
  --success:#22c55e;
  --radius:14px;
}

*{box-sizing:border-box;font-family:Inter}
body{
  margin:0;min-height:100vh;
  display:grid;place-items:center;
  background:linear-gradient(135deg,#0f172a,#020617);
  color:var(--text);
}

/* Card */
.card{
  width:100%;max-width:420px;
  background:var(--card);
  padding:32px;
  border-radius:22px;
  box-shadow:0 30px 80px rgba(0,0,0,.45);
  animation:fadeUp .8s ease;
}

@keyframes fadeUp{
  from{opacity:0;transform:translateY(30px)}
  to{opacity:1;transform:none}
}

.brand{
  text-align:center;
  margin-bottom:20px;
}
.brand h1{margin:0;font-size:28px}
.brand span{color:var(--primary)}

p.subtitle{color:var(--muted);text-align:center;margin-bottom:24px}

/* Inputs */
.group{margin-bottom:16px}
label{font-size:14px;color:var(--muted)}
.input-wrap{
  position:relative;
}
input{
  width:100%;
  padding:14px 42px 14px 14px;
  border-radius:var(--radius);
  border:none;
  background:var(--input);
  color:var(--text);
}
input:focus{outline:2px solid var(--primary)}

.toggle{
  position:absolute;
  right:12px;top:50%;
  transform:translateY(-50%);
  cursor:pointer;
  font-size:13px;
  color:var(--muted);
}

/* Message */
.message{
  display:none;
  padding:12px;
  border-radius:12px;
  margin-bottom:14px;
  font-size:14px;
}
.errormessage{
  display: block;
  padding:12px;
  border-radius:12px;
  margin-bottom:14px;
  font-size:14px;
}
.message.success{background:rgba(34,197,94,.15);color:var(--success)}
.errormessage.error{background:rgba(239,68,68,.15);color:var(--danger)}

/* Button */
button{
  width:100%;
  padding:14px;
  border:none;
  border-radius:var(--radius);
  background:var(--primary);
  color:white;
  font-weight:600;
  cursor:pointer;
  display:flex;
  justify-content:center;
  align-items:center;
  gap:10px;
}
button:disabled{opacity:.7}

/* Spinner */
.spinner{
  width:18px;height:18px;
  border:3px solid rgba(255,255,255,.3);
  border-top-color:white;
  border-radius:50%;
  animation:spin 1s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg)}}

.footer{
  text-align:center;
  margin-top:18px;
  font-size:14px;
}
.footer a{color:var(--primary);text-decoration:none}

@media(max-width:480px){
  .card{margin:16px;padding:24px}
}
</style>
</head>

<body>

<div class="card">
  <div class="brand">
    <h1><span>Chat</span>Flow</h1>
  </div>
  <p class="subtitle">Create your account</p>

  <div id="msg" class="message"></div>
{% for message in messages %}
  <div class="errormessage error">{{message}}</div>
{% endfor %}

  <form  id="form"  method="post">{% csrf_token %}
    <div class="group">
      <label>Username</label>
      <input id="username" placeholder="Enter username" name="username">
    </div>

    <div class="group">
      <label>Email</label>
      <input id="email" type="email" placeholder="Enter email" name="email">
    </div>

    <div class="group">
      <label>Password</label>
      <div class="input-wrap">
        <input id="password" type="password" placeholder="Create password" name="password">
        <span class="toggle" onclick="toggle('password')">Show</span>
      </div>
    </div>

    <div class="group">
      <label>Confirm Password</label>
      <div class="input-wrap">
        <input id="confirm" type="password" placeholder="Confirm password" name="confirm_password">
        <span class="toggle" onclick="toggle('confirm')">Show</span>
      </div>
    </div>

    <button  type="submit">
      <span>Create Account</span>
    </button>

  </form>

  <div class="footer">
    Already have an account? <a href="/login">Login</a>
  </div>
</div>

<script>
const form=document.getElementById("form") 
const btn=document.getElementById("btn")
const msg=document.getElementById("msg")

function toggle(id){
  const input=document.getElementById(id)
  input.type=input.type==="password"?"text":"password"
}

form.addEventListener("submit",e=>{
  
  msg.style.display="none"

  btn.disabled=true
  btn.innerHTML='<div class="spinner"></div> Creating...'

  setTimeout(()=>{
    msg.className="message success"
    msg.textContent="Account created successfully ðŸŽ‰"
    msg.style.display="block"

    btn.disabled=false
    btn.innerHTML="Create Account"
    form.reset()
  },1500)
})
</script>

</body>
</html>
